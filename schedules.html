<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Schedule</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            padding: 20px;
        }
        .schedule-container {
            display: flex;
            gap: 50px;
        }
        .schedule {
            display: grid;
            grid-template-rows: repeat(6, 1fr);
            width: 200px;
            gap: 15px;
        }
        .day {
            background-color: white;
            padding: 10px;
            border: 2px solid black;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .day.expanded {
            background-color: #f0f0f0;
            transition: all 0.5s ease;
        }
        .day .events {
            display: none;
            flex-direction: column;
            overflow: hidden;
            max-height: 0;
            transition: max-height 0.5s ease-in-out;
        }
        .day.expanded .events {
            display: flex;
            max-height: 500px; /* Smooth expand */
        }
        .header {
            background-color: black;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid black;
        }
        .color-change-btn {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }
        .color-picker-button {
            background-color: black;
            color: white;
            border: 2px solid black;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
        }
        /* Hidden color picker */
        #colorPicker {
            display: none;
        }
        .add-event-btn {
            margin-top: 5px;
            background-color: black;
            color: white;
            padding: 5px;
            border: none;
            cursor: pointer;
        }
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            width: 400px;
        }
        .modal.active {
            display: block;
        }
        .modal .class-item {
            display: flex;
            justify-content: space-between;
            background-color: black;
            color: white;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        .modal .class-item .buttons {
            display: flex;
            gap: 10px;
        }
        .modal .class-item button {
            padding: 5px;
            background-color: black;
            color: white;
            border: none;
            cursor: pointer;
        }
        .modal .add-event-btn {
            margin-top: 20px;
            background-color: black;
            color: white;
            padding: 10px;
            border: none;
            cursor: pointer;
            width: 100%;
            text-align: center;
            border-radius: 8px;
        }
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }
        .overlay.active {
            display: block;
        }
        /* Modal for Adding Class */
        .add-class-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            width: 300px;
        }
        .add-class-modal.active {
            display: block;
        }
        .input-field {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 20px;
            border: 1px solid #ccc;
            text-align: center;
        }
        .input-field::placeholder {
            text-align: center;
        }
        .back-btn {
            background-color: #333;
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            display: inline-block;
            margin-top: 10px;
        }
    </style>
</head>
<body>

<div class="schedule-container">
    <!-- Schedule for Week 1 -->
    <div class="schedule" id="schedule1">
        <div class="header" contenteditable="true" id="header1">NAME</div>
        <div class="day" id="monday1" onclick="openModal('monday1')">Monday <div class="events"></div></div>
        <div class="day" id="tuesday1" onclick="openModal('tuesday1')">Tuesday <div class="events"></div></div>
        <div class="day" id="wednesday1" onclick="openModal('wednesday1')">Wednesday <div class="events"></div></div>
        <div class="day" id="thursday1" onclick="openModal('thursday1')">Thursday <div class="events"></div></div>
        <div class="day" id="friday1" onclick="openModal('friday1')">Friday <div class="events"></div></div>
        <div class="color-change-btn">
            <button class="color-picker-button" id="colorPickerButton1">Change Color</button>
            <input type="color" id="colorPicker1" value="#000000">
        </div>
    </div>

    <!-- Schedule for Week 2 -->
    <div class="schedule" id="schedule2">
        <div class="header" contenteditable="true" id="header2">NAME</div>
        <div class="day" id="monday2" onclick="openModal('monday2')">Monday <div class="events"></div></div>
        <div class="day" id="tuesday2" onclick="openModal('tuesday2')">Tuesday <div class="events"></div></div>
        <div class="day" id="wednesday2" onclick="openModal('wednesday2')">Wednesday <div class="events"></div></div>
        <div class="day" id="thursday2" onclick="openModal('thursday2')">Thursday <div class="events"></div></div>
        <div class="day" id="friday2" onclick="openModal('friday2')">Friday <div class="events"></div></div>
        <div class="color-change-btn">
            <button class="color-picker-button" id="colorPickerButton2">Change Color</button>
            <input type="color" id="colorPicker2" value="#000000">
        </div>
    </div>
</div>

<!-- Modal for Viewing and Managing Classes -->
<div class="modal" id="classModal">
    <div id="classList"></div>
    <button class="add-event-btn" onclick="openAddClassModal()">Add Class</button>
    <button class="back-btn" onclick="closeModal()">Back</button>
</div>

<!-- Modal for Adding a Class -->
<div class="add-class-modal" id="addClassModal">
    <input type="text" class="input-field" id="className" placeholder="Class Name">
    <input type="text" class="input-field" id="classTime" placeholder="Class Time">
    <button class="add-event-btn" onclick="submitClass()">Submit</button>
    <button class="back-btn" onclick="closeAddClassModal()">Back</button>
</div>

<div class="overlay" id="overlay"></div>

<script>
    let selectedDay = null; // Track the currently selected day

    // Apply color changes for schedule 1
    const colorPickerButton1 = document.getElementById("colorPickerButton1");
    const colorPicker1 = document.getElementById("colorPicker1");
    const header1 = document.getElementById("header1");

    colorPickerButton1.addEventListener("click", () => {
        colorPicker1.click();
    });

    colorPicker1.addEventListener("input", (e) => {
        const newColor = e.target.value;
        header1.style.backgroundColor = newColor;
        colorPickerButton1.style.backgroundColor = newColor;
    });

    // Apply color changes for schedule 2
    const colorPickerButton2 = document.getElementById("colorPickerButton2");
    const colorPicker2 = document.getElementById("colorPicker2");
    const header2 = document.getElementById("header2");

    colorPickerButton2.addEventListener("click", () => {
        colorPicker2.click();
    });

    colorPicker2.addEventListener("input", (e) => {
        const newColor = e.target.value;
        header2.style.backgroundColor = newColor;
        colorPickerButton2.style.backgroundColor = newColor;
    });

    // Open modal and load classes for the selected day
    function openModal(dayId) {
        selectedDay = dayId;
        const classList = document.getElementById("classList");
        classList.innerHTML = ''; // Clear existing content

        const eventsDiv = document.getElementById(dayId).querySelector(".events");

        if (eventsDiv.children.length === 0) {
            classList.innerHTML = '<p>No classes. Click Add to create one.</p>';
        } else {
            Array.from(eventsDiv.children).forEach((classEvent, index) => {
                const classItem = document.createElement("div");
                classItem.classList.add("class-item");
                classItem.innerHTML = `
                    <span>${classEvent.innerText}</span>
                    <div class="buttons">
                        <button onclick="editEvent(${index})">Edit</button>
                        <button onclick="deleteEvent(${index})">Delete</button>
                    </div>
                `;
                classList.appendChild(classItem);
            });
        }

        document.getElementById("classModal").classList.add("active");
        document.getElementById("overlay").classList.add("active");
    }

    // Close modal
    function closeModal() {
        document.getElementById("classModal").classList.remove("active");
        document.getElementById("overlay").classList.remove("active");
    }

    // Open the modal for adding a new class
    function openAddClassModal() {
        document.getElementById("addClassModal").classList.add("active");
        document.getElementById("classModal").classList.remove("active");
    }

    // Close add class modal
    function closeAddClassModal() {
        document.getElementById("addClassModal").classList.remove("active");
        document.getElementById("classModal").classList.add("active");
    }

    // Add event
    function submitClass() {
        const className = document.getElementById("className").value;
        const classTime = document.getElementById("classTime").value;

        if (className && classTime) {
            const newEvent = document.createElement("div");
            newEvent.innerText = `${className} - ${classTime}`;
            newEvent.classList.add("event-item");
            document.getElementById(selectedDay).querySelector(".events").appendChild(newEvent);

            closeAddClassModal();
        }
    }

    // Edit event
    function editEvent(index) {
        const eventsDiv = document.getElementById(selectedDay).querySelector(".events");
        const currentEvent = eventsDiv.children[index];

        const className = prompt("Edit class name:", currentEvent.innerText.split(" - ")[0]);
        const classTime = prompt("Edit class time:", currentEvent.innerText.split(" - ")[1]);

        if (className && classTime) {
            currentEvent.innerText = `${className} - ${classTime}`;
        }

        closeModal();
    }

    // Delete event
    function deleteEvent(index) {
        const eventsDiv = document.getElementById(selectedDay).querySelector(".events");
        eventsDiv.children[index].remove();
        closeModal();
    }

</script>

</body>
</html>
